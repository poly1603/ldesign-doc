{"hash":"b7e082766cd0a837688bac7072ccfbf9","data":{"html":"<span class=\"line\"><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">onClientMounted</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(ctx) {</span></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // Vue 应用实例</span></span><span class=\"line\"><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\">  const</span><span style=\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\"> app</span><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\"> =</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> ctx.app</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // Vue Router 实例</span></span><span class=\"line\"><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\">  const</span><span style=\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\"> router</span><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\"> =</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> ctx.router</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // 响应式数据</span></span><span class=\"line\"><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\">  const</span><span style=\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\"> siteData</span><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\"> =</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> ctx.siteData</span></span><span class=\"line\"><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\">  const</span><span style=\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\"> pageData</span><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\"> =</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> ctx.pageData</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // 路由工具</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.path        </span><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">// 当前路径</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.hash        </span><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">// 当前 hash</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.query       </span><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">// 查询参数</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">go</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'/path'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">) </span><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">// 导航</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">replace</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'/path'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">back</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">forward</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.route.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">scrollToAnchor</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'#id'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">)</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // 数据工具</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">getPageData</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">getSiteData</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">getThemeConfig</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">getFrontmatter</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">getHeaders</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">getLang</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.data.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">isDark</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // UI 工具</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.ui.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">showToast</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'消息'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, { type: </span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'success'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> })</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.ui.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">showLoading</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'加载中...'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.ui.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">hideLoading</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\">  await</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> ctx.ui.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">showModal</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">({ title: </span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'确认'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, content: </span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'...'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> })</span></span><span class=\"line\"><span style=\"--shiki-light:#D73A49;--shiki-dark:#F97583\">  await</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\"> ctx.ui.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">copyToClipboard</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'text'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">)</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // 存储工具</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.storage.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">set</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'key'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, value)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.storage.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">get</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'key'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.storage.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">remove</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'key'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.storage.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">clear</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">()</span></span><span class=\"line\"></span><span class=\"line\"><span style=\"--shiki-light:#6A737D;--shiki-dark:#6A737D\">  // 事件总线</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.events.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">on</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'event'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, handler)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.events.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">off</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'event'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, handler)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.events.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">emit</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'event'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, data)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">  ctx.events.</span><span style=\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\">once</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">(</span><span style=\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\">'event'</span><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">, handler)</span></span><span class=\"line\"><span style=\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\">}</span></span><span class=\"line\"></span>","lang":"ts"},"createdAt":1767144921637,"version":"1.0.0"}